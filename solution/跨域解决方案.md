# 跨域解决方案
同源策略：协议、端口、域名相同则视为同源
非同源站点的一些限制：
- 限制xhr请求
- 不能读取和修改对方的dom
- 不能读取访问对方的cookie、IndexDB和LocalStorage

## nginx反向代理
## CORS
`access-control-allow-origin`：服务器用来决定浏览器是否拦截这个响应
## jsonp
```js
const jsonp = ({ url, params, callbackName }) => {
  const generateURL = () => {
    let dataStr = '';
    for(let key in params) {
      dataStr += `${key}=${params[key]}&`;
    }
    dataStr += `callback=${callbackName}`;
    return `${url}?${dataStr}`;
  };
  return new Promise((resolve, reject) => {
    // 初始化回调函数名称
    callbackName = callbackName || Math.random().toString.replace(',', ''); 
    // 创建 script 元素并加入到当前文档中
    let scriptEle = document.createElement('script');
    scriptEle.src = generateURL();
    document.body.appendChild(scriptEle);
    // 绑定到 window 上，为了后面调用
    window[callbackName] = (data) => {
      resolve(data);
      // script 执行完了，成为无用元素，需要清除
      document.body.removeChild(scriptEle);
    }
  });
}
```

## form表单提交到iframe
## 处理canvas中图片跨域问题