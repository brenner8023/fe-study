## 常用规则
- 雅虎军规
- 2-5-8原则
- 3秒钟首屏指标

## 首屏优化
基于联通3G网络平均338kb/s，移动端首屏资源不应超过1014kb

## 图片
- 有损压缩：将次要的信息数据舍弃，牺牲一些质量来减少数据量、提高压缩比，一般该过程是不可逆的。
- 无损压缩：数据经过压缩后，信息不受损失，还可以完全恢复到压缩前的样子。
- 位图：又叫栅格图、点阵图，使用像素阵列来表示图像。位图就是由像素阵列的排列来实现其显示效果的，每个像素有自己的颜色信息，在对位图图像进行编辑操作的时候，可操作的对像是每个像素，我们可以改变图像的色相、饱和度、明度，从而改变图像的显示效果。位图根据位深度，有 1、4、8、16、24、32 位图像等。位图放大会失真变模糊。
- 矢量图：计算机图形学中用点、直线或者多边形等基于数学方程的几何图元表示图像。相比较位图，矢量图保存最少的信息，体积更小，缩放不会失真。
- 索引色：一个字节 2^8 表示一个颜色，也就是最多支持 256 种颜色。
- 直接色：4 个数字表示一个颜色，分别表示红、黄、蓝以及透明度，所以最多可以表达 2^32 种颜色。

**常见的图片格式：**
- png-8：最多支持 256 色的 PNG，无损、索引色的位图。非动图可以替代 GIF，体积更小，透明度支持也更好。
- png-24：最多支持 2^24 色的 PNG，不支持透明，无损、直接色的位图。目标是替换 JPG，但一般来说，相同显示效果，PNG 图片是 JPG 体积的数倍。
- jpg/jpeg：有损压缩、直接色、位图、体积小，常用于颜色较丰富、无透明要求的图片。
- svg：用于描述二维矢量图形的图形格式。
- webp：Google 2010 年发布的同时支持有损和无损压缩的图片文件格式。
- gif：无损压缩、索引色、可插入多帧实现动画效果、可实现透明效果
- Base64：将图片编码为特定的字符串，由52个大小写字母、10个数字和+、/、=三个字符组成，可使用`FileReader.readAsDataURL`

**懒加载：**
先不设置图片的 src 属性，将图片的真实路径放到一个浏览器不认识的属性中（比如 data-src），然后我们去监听 scroll 事件。当页面的 scrollTop 与浏览器的高度之和大于图片距页面顶端的 Y (注意是整个页面不是浏览器窗口)时，说明图片已经进入可视区域，这是把 data-src 的值放到 src 中即可。

使用懒加载的好处：
1. 对于移动端和网速比较差的用户，可以优化加载过多图片的页面的体验
2. 如果加载的图片过多，可能会影响网页的正常使用
3. 能够节省流量和服务器压力

在线工具：
- TinyPNG：https://tinypng.com/
- 智图：https://zhitu.isux.us/
- iloveimg：https://www.iloveimg.com/zh-cn

img标签的srcset按需加载图像

## 缓存策略
localStorage、sessionStorage

[http缓存](../计算机网络/http.md)

## 代码优化
- 减少dom操作
- 减少浏览器的重绘和回流
- 事件的节流和防抖
- css选择器不要嵌套太深

域名分片
